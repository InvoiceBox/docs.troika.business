---
layout: default
nav_order: 30
title: Создание заказа
parent: "Методы API"
---

# Создание заказа

Для создания заказа, необходимо вызвать следующий метод API:

- HTTP метод: `POST`
- наименование метода API: `app_create_order`


## Параметры запроса

Передача организации агента, а в картах - пользователя карт

| Параметр          | Обязательный | Тип         | Описание                            | Пример значения                |
|-------------------|--------------|-------------|-------------------------------------|--------------------------------|
| vatNumber         | Нет          | STRING(12)  | ИНН организации Агента/Плательщика  | 2323232323                     |
| legalEntityTypeId | Нет          | INT         | Идентификатор ОПФ организации       | 1                              |
| name              | Нет          | STRING(100) | Наименование организации            | 1                              |
| firstname         | Нет          | STRING(100) | Имя плательщика                     | Василий                        |
| surname           | Нет          | STRING(100) | Фамилия плательщика                 | Васильевич                     |
| email             | Нет          | STRING(100) | Адрес эл. почты плательщика         | vasily@troikacardlove.ru       |
| phone             | Нет          | STRING(16)  | Номер моб. телефона плательщика     | +79121231212                   |
| paymentMethodId   | Нет          | INT         | Идентификатор канала оплаты         | 12                             |
| orderData         | Да           | orderData   | Состав заказа                       | См. описание объекта orderData |

## Параметры ответа

| Параметр    | Обязательный | Тип      | Описание                                                | Пример значения |
|-------------|--------------|----------|---------------------------------------------------------|-----------------|
| id          | Да           | INT      | Идентификатор заказа в системе «Тройка Бизнес»          | 123             |
| totalAmount | Да           | FLOAT    | Итого сумма заказа                                      | 1343.00         |


## orderData                    

Состав заказа

| Параметр       | Обязательный                                 | Тип         | Описание                                                       | Пример значения          |
|----------------|----------------------------------------------|-------------|----------------------------------------------------------------|--------------------------|
| type           | Да                                           | ENUM        | newcard - новая карта с доставкой, owncard - собственная карта |                          |
| cardTypeId     | Да, если type = newcard                      | INT         | Идентификатор типа новой карты                                 | 1                        |
| cardNumber     | Да, если type = owncard                      | STRING(10)  | Номер карты пользователя                                       | 1234567890               |
| tariffId       | Да                                           | INT         | Идентификатор тарифа                                           | 1212                     |
| currencyId     | Да                                           | FLOAT       | Идентификатор валюты оплаты (RUB)                              | RUB                      |
| amount         | Да, если группа тарифа (ticketGroup) = purse | FLOAT       | Сумма пополнения, не менее priceMin, не более priceMax тарифа  | 200.00                   |
| quantity       | Да, если type = newcard                      | INT         | Количество билетов                                             | 1                        |
| email          | Нет                                          | STRING(100) | Адрес эл. почты пользователя                                   | vasily@troikacardlove.ru |
| phone          | Да                                           | STRING(16)  | Номер моб. телефона пользователя                               | +79121231212             |
| name           | Нет                                          | STRING(100) | Фамилия, имя пользователя                                      | Василий Васильевич       |


[Читать далее &raquo;](/docs/methods/app_get_order/){: .btn .btn-primary .fs-5 .mb-4 .mb-md-0 .mr-2 }
